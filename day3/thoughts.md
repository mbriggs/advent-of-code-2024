"Scary on first read, but came together pretty quickly" - Peter G

Agree with that 100%.

I am typically biased against functional solutions, they tend to be less
performant and harder to read / debug after the fact. However, I find that the
golden example of when to use something like reduce is in a sum type situation
like in this example, and I'll choose it 10/10 times.

Another random thought is I have been using https://rubular.com/ for literally
decades now, and when I am doing more involved regexp in a non ruby language I
miss it. Its amazing how a thing so small and simple can have a profound impact
on the experience of using a language.
